const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-BZakjvyN.js","assets/_commonjsHelpers-DsqdWQfm.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{d as we,u as xe,r as x,i as te,a1 as ye,a2 as _e,P as We,Q as $e,o as f,a as o,c as k,f as R,S as P,R as E,t as r,e as L,g as S,v as oe,h as F,F as Ue,k as Re,a3 as Le,_ as Ie,W as Ce}from"./index-CB9dnXdB.js";import{u as Se}from"./useToast-PjD2IqXA.js";import{_ as ze}from"./ToolLayout.vue_vue_type_script_setup_true_lang-GQLqlDLw.js";import{G as Pe}from"./gif-Dup4naTh.js";import{l as se}from"./index-CNw5tbJV.js";import"./_commonjsHelpers-DsqdWQfm.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const Be={class:"flex flex-col lg:flex-row gap-6"},je={class:"glass rounded-xl border border-slate-700/30 p-6 mb-6"},Oe={class:"space-y-4"},Fe={class:"text-lg font-medium text-slate-100 mb-2"},De={class:"text-slate-400"},Ee={class:"text-sm text-slate-500 mt-2"},Ae={class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},Te={class:"glass rounded-xl border border-slate-700/30 p-6 mb-6"},Me={class:"text-lg font-semibold text-slate-100 mb-4 border-b border-slate-700/30 pb-2"},Ve={class:"mb-6"},Ge={class:"block text-sm font-medium text-slate-300 mb-2"},Ne={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},He={class:"font-medium"},Je={class:"text-sm text-slate-400 mt-1"},Ze={class:"font-medium"},qe={class:"text-sm text-slate-400 mt-1"},Ke={class:"font-medium"},Qe={class:"text-sm text-slate-400 mt-1"},Xe={key:0,class:"mb-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50"},Ye={class:"text-md font-medium text-slate-200 mb-3"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},tt={class:"block text-sm font-medium text-slate-300 mb-1"},ot=["placeholder"],st={class:"block text-sm font-medium text-slate-300 mb-1"},rt={class:"block text-sm font-medium text-slate-300 mb-1"},at={class:"block text-sm font-medium text-slate-300 mb-1"},lt={key:1,class:"mb-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50"},it={class:"text-md font-medium text-slate-200 mb-3"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},dt={class:"block text-sm font-medium text-slate-300 mb-1"},ct={key:0,class:"flex flex-col items-center"},mt=["src","alt"],ut={key:1},pt={class:"text-slate-400"},gt={class:"mb-3"},vt={class:"block text-sm font-medium text-slate-300 mb-1"},bt=["max"],ft={class:"mb-3"},ht={class:"block text-sm font-medium text-slate-300 mb-1"},kt={class:"mb-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50"},wt={class:"text-md font-medium text-slate-200 mb-3"},xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={class:"block text-sm font-medium text-slate-300 mb-1"},_t={value:"top-left"},Wt={value:"top-center"},$t={value:"top-right"},Ut={value:"center-left"},Rt={value:"center"},Lt={value:"center-right"},It={value:"bottom-left"},Ct={value:"bottom-center"},St={value:"bottom-right"},zt={class:"block text-sm font-medium text-slate-300 mb-1"},Pt={class:"mb-6 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50"},Bt={class:"text-md font-medium text-slate-200 mb-3"},jt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ot={class:"block text-sm font-medium text-slate-300 mb-1"},Ft={class:"block text-sm font-medium text-slate-300 mb-1"},Dt={class:"block text-sm font-medium text-slate-300 mb-1"},Et={key:0,class:"lg:w-1/2"},At={class:"glass rounded-xl border border-slate-700/30 p-6 mb-6 h-full flex flex-col"},Tt={class:"flex justify-between items-center mb-6"},Mt={class:"text-lg font-semibold text-slate-100"},Vt={class:"flex gap-3"},Gt=["disabled"],Nt={key:0,class:"flex items-center"},Ht={key:1},Jt=["disabled"],Zt={key:0,class:"mb-6 p-4 bg-green-500/10 rounded-lg border border-green-500/30"},qt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Kt={class:"text-2xl font-bold text-green-300"},Qt={class:"text-sm text-green-400"},Xt={class:"text-2xl font-bold text-green-300"},Yt={class:"text-sm text-green-400"},eo={class:"text-2xl font-bold text-green-300"},to={class:"text-sm text-green-400"},oo={class:"flex-1 overflow-y-auto"},so={class:"grid grid-cols-1 gap-4"},ro={class:"flex items-start space-x-4"},ao={class:"flex-shrink-0"},lo=["src","alt"],io={class:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4"},no={class:"md:col-span-2"},co={class:"text-sm font-medium text-slate-100 truncate"},mo={class:"text-sm text-slate-400"},uo={key:0,class:"mt-2 p-2 bg-blue-500/10 rounded text-blue-300 text-xs border border-blue-500/30"},po={class:"flex flex-wrap gap-4 mt-2"},go={class:"text-sm text-slate-400"},vo={key:0,class:"text-sm text-green-400"},bo={class:"flex flex-col items-end space-y-2"},fo={class:"flex items-center space-x-2"},ho={class:"text-xs text-slate-400"},ko={key:0,class:"w-full max-w-[100px]"},wo={class:"bg-slate-700 rounded-full h-2"},xo={class:"text-xs text-slate-400 text-center mt-1"},yo={class:"flex justify-end gap-2"},_o=["onClick"],Wo=["onClick"],$o=["onClick","disabled"],Uo=["onClick"],Ro={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Lo={class:"relative glass rounded-xl border border-slate-700/30 w-full max-w-4xl mx-4"},Io={class:"flex items-center justify-between p-4 border-b border-slate-700/30 rounded-t"},Co={class:"text-xl font-semibold text-slate-100"},So={class:"p-6"},zo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Po={class:"text-lg font-medium text-slate-200 mb-2"},Bo={class:"border border-slate-700/50 rounded-lg p-2 bg-slate-800/50"},jo=["src","alt"],Oo={class:"mt-2 text-sm text-slate-400"},Fo={key:0},Do={class:"text-lg font-medium text-slate-200 mb-2"},Eo={class:"border border-slate-700/50 rounded-lg p-2 bg-slate-800/50"},Ao=["src","alt"],To={class:"mt-2 text-sm text-slate-400"},Mo={class:"flex items-center justify-end p-6 border-t border-slate-700/30 rounded-b"},Vo=we({__name:"ImageWatermark",setup(Go){const{t:I}=xe(),{success:G,error:re}=Se();function B(e){re(e)}const j=x(),A=x(),n=x([]),T=x(!1),Z=x(!1),D=x(!1),M=x(!1),_=x(null),v=x("text"),U=x({text:"Watermark",fontSize:24,color:"#ffffff",fontFamily:"Arial"}),w=x({file:null,preview:""}),W=x({width:100,maxWidth:300,opacity:80}),z=x({position:"bottom-right",margin:20}),y=x({opacity:80,rotation:0,scale:100}),ae=te(()=>n.value.some(e=>e.status==="completed")),V=te(()=>{const e=n.value.filter(i=>i.status==="completed"),t=e.reduce((i,l)=>i+l.originalSize,0),s=e.reduce((i,l)=>i+(l.processedSize||0),0),a=e.length;return{totalOriginalSize:t,totalProcessedSize:s,processedCount:a}});function le(){j.value?.click()}function ie(e){const t=e.target.files;t&&N(Array.from(t)),j.value&&(j.value.value="")}function ne(e){e.preventDefault(),T.value=!1;const t=e.dataTransfer?.files;t&&N(Array.from(t))}async function N(e){const t=e.filter(s=>s.type.startsWith("image/"));if(t.length===0){B(I("tools.imageWatermark.errors.noValidImages"));return}for(const s of t){const a=n.value.findIndex(l=>l.name===s.name&&l.originalSize===s.size),i=s.type==="image/gif";if(a!==-1)try{const l=await H(s),d=await J(s);n.value[a]={name:s.name,file:s,preview:d,originalSize:s.size,dimensions:l,status:"pending",progress:0,isGif:i}}catch(l){console.error("Error processing file:",s.name,l)}else try{const l=await H(s),d=await J(s),c={name:s.name,file:s,preview:d,originalSize:s.size,dimensions:l,status:"pending",progress:0,isGif:i};n.value.push(c)}catch(l){console.error("Error processing file:",s.name,l)}}}function de(){A.value?.click()}function ce(e){const t=e.target.files;t&&t.length>0&&q(t[0]),A.value&&(A.value.value="")}function me(e){e.preventDefault(),Z.value=!1;const t=e.dataTransfer?.files;t&&t.length>0&&q(t[0])}async function q(e){if(!e.type.startsWith("image/")){B(I("tools.imageWatermark.errors.invalidWatermark"));return}try{w.value.preview&&URL.revokeObjectURL(w.value.preview);const t=await J(e),s=await H(e);w.value={file:e,preview:t},W.value.maxWidth=Math.min(s.width,500),W.value.width=Math.min(W.value.width,W.value.maxWidth)}catch(t){console.error("Error processing watermark image:",t),B(I("tools.imageWatermark.errors.watermarkProcessingFailed"))}}function ue(){w.value.preview&&URL.revokeObjectURL(w.value.preview),w.value={file:null,preview:""}}function H(e){return new Promise((t,s)=>{const a=new Image;a.onload=()=>{t({width:a.width,height:a.height})},a.onerror=s,a.src=URL.createObjectURL(e)})}function J(e){return new Promise((t,s)=>{const a=new FileReader;a.onload=i=>t(i.target?.result),a.onerror=s,a.readAsDataURL(e)})}async function K(e){const t=n.value[e];if(t){if((v.value==="image"||v.value==="combined")&&!w.value.file){B(I("tools.imageWatermark.errors.noWatermarkImage"));return}if((v.value==="text"||v.value==="combined")&&!U.value.text.trim()){B(I("tools.imageWatermark.errors.noWatermarkText"));return}t.status="processing",t.progress=0;try{t.isGif?await pe(t,e):await Q(t,e)}catch(s){console.error("Processing error:",s),n.value[e].status="error",B(I("tools.imageWatermark.errors.processingFailed",{filename:t.name}))}}}async function Q(e,t){const s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw new Error("Could not get canvas context");const i=new Image;await new Promise((d,c)=>{i.onload=d,i.onerror=c,i.src=e.preview}),s.width=i.width,s.height=i.height,a.drawImage(i,0,0,s.width,s.height),a.globalAlpha=y.value.opacity/100,(v.value==="text"||v.value==="combined")&&await X(a,s),(v.value==="image"||v.value==="combined")&&await Y(a,s),a.globalAlpha=1;for(let d=20;d<=80;d+=20)n.value[t].progress=d,await new Promise(c=>setTimeout(c,100));const l=await new Promise(d=>{s.toBlob(c=>{d(c)},"image/png",.9)});n.value[t].progress=100,n.value[t].processedBlob=l,n.value[t].processedSize=l.size,n.value[t].status="completed",n.value[t].processedBlob&&(n.value[t].processedPreviewUrl=URL.createObjectURL(n.value[t].processedBlob))}async function pe(e,t){try{const s=await e.file.arrayBuffer(),a=se.parseGIF(s),i=se.decompressFrames(a,!0);if(i.length===0)throw new Error("No frames found in GIF");const l=a.lsd.width,d=a.lsd.height,c=document.createElement("canvas");c.width=l,c.height=d;const b=c.getContext("2d");if(!b)throw new Error("Could not get canvas context");const C=new Pe({workers:2,quality:10,width:l,height:d,workerScript:"/gif.worker.js"}),h=document.createElement("canvas");h.width=l,h.height=d;const u=h.getContext("2d");if(!u)throw new Error("Could not get offscreen canvas context");for(let m=0;m<i.length;m++){const p=i[m];if(m===0)u.clearRect(0,0,l,d);else{const $=i[m-1];$.disposalType===2?u.clearRect(0,0,l,d):$.disposalType}if(p.patch){const $=new ImageData(new Uint8ClampedArray(p.patch),p.dims.width,p.dims.height);u.putImageData($,p.dims.left,p.dims.top)}b.clearRect(0,0,l,d),b.drawImage(h,0,0),b.globalAlpha=y.value.opacity/100,(v.value==="text"||v.value==="combined")&&await X(b,c),(v.value==="image"||v.value==="combined")&&await Y(b,c),b.globalAlpha=1,C.addFrame(b,{copy:!0,delay:p.delay||100}),n.value[t].progress=Math.round((m+1)/i.length*80)}const g=await new Promise((m,p)=>{C.on("finished",$=>{m($)}),C.on("error",$=>{p(new Error("GIF processing error: "+$.message))});try{C.render()}catch($){p(new Error("Failed to start GIF rendering: "+$.message))}});n.value[t].progress=100,n.value[t].processedBlob=g,n.value[t].processedSize=g.size,n.value[t].status="completed",n.value[t].processedBlob&&(n.value[t].processedPreviewUrl=URL.createObjectURL(n.value[t].processedBlob))}catch(s){console.error("GIF processing error:",s),await Q(e,t)}}async function X(e,t){const{text:s,fontSize:a,color:i,fontFamily:l}=U.value,{position:d,margin:c}=z.value,{rotation:b,scale:C}=y.value;e.font=`${a*C/100}px ${l}`,e.fillStyle=i,e.textAlign="left",e.textBaseline="top";const u=e.measureText(s).width,g=a*C/100;let m=0,p=0;switch(d){case"top-left":m=c,p=c;break;case"top-center":m=(t.width-u)/2,p=c;break;case"top-right":m=t.width-u-c,p=c;break;case"center-left":m=c,p=(t.height-g)/2;break;case"center":m=(t.width-u)/2,p=(t.height-g)/2;break;case"center-right":m=t.width-u-c,p=(t.height-g)/2;break;case"bottom-left":m=c,p=t.height-g-c;break;case"bottom-center":m=(t.width-u)/2,p=t.height-g-c;break;case"bottom-right":m=t.width-u-c,p=t.height-g-c;break}b!==0?(e.save(),e.translate(m+u/2,p+g/2),e.rotate(b*Math.PI/180),e.fillText(s,-u/2,-g/2),e.restore()):e.fillText(s,m,p)}async function Y(e,t){if(!w.value.file||!w.value.preview)return;const{width:s,opacity:a}=W.value,{position:i,margin:l}=z.value,{rotation:d,scale:c}=y.value,b=new Image;await new Promise((p,$)=>{b.onload=p,b.onerror=$,b.src=w.value.preview});const C=b.height/b.width,h=s*c/100,u=h*C;let g=0,m=0;switch(i){case"top-left":g=l,m=l;break;case"top-center":g=(t.width-h)/2,m=l;break;case"top-right":g=t.width-h-l,m=l;break;case"center-left":g=l,m=(t.height-u)/2;break;case"center":g=(t.width-h)/2,m=(t.height-u)/2;break;case"center-right":g=t.width-h-l,m=(t.height-u)/2;break;case"bottom-left":g=l,m=t.height-u-l;break;case"bottom-center":g=(t.width-h)/2,m=t.height-u-l;break;case"bottom-right":g=t.width-h-l,m=t.height-u-l;break}e.globalAlpha=a/100,d!==0?(e.save(),e.translate(g+h/2,m+u/2),e.rotate(d*Math.PI/180),e.drawImage(b,-h/2,-u/2,h,u),e.restore()):e.drawImage(b,g,m,h,u),e.globalAlpha=1}async function ge(){D.value=!0;const e=n.value.map((s,a)=>({img:s,index:a})),t=3;for(let s=0;s<e.length;s+=t){const a=e.slice(s,s+t);await Promise.all(a.map(({index:i})=>K(i)))}D.value=!1,G(I("tools.imageWatermark.success.processingComplete"))}function ve(e){const t=n.value[e];if(!t.processedBlob)return;const s=URL.createObjectURL(t.processedBlob),a=document.createElement("a");a.href=s,a.download=`${t.name.replace(/\.[^/.]+$/,"")}_watermark.${t.isGif?"gif":"png"}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}async function be(){const{default:e}=await Ie(async()=>{const{default:d}=await import("./jszip.min-BZakjvyN.js").then(c=>c.j);return{default:d}},__vite__mapDeps([0,1,2])),t=new e,s=n.value.filter(d=>d.status==="completed"&&d.processedBlob);for(const d of s)if(d.processedBlob){const c=d.isGif?"gif":"png",b=`${d.name.replace(/\.[^/.]+$/,"")}_watermark.${c}`;t.file(b,d.processedBlob)}const a=await t.generateAsync({type:"blob"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=`watermarked_images_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),G(I("tools.imageWatermark.success.downloadComplete"))}function O(e){if(e===0)return"0 B";const t=1024,s=["B","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(1))+" "+s[a]}function fe(e){const t=n.value[e];URL.revokeObjectURL(t.preview),t.processedBlob&&URL.revokeObjectURL(URL.createObjectURL(t.processedBlob)),t.processedPreviewUrl&&URL.revokeObjectURL(t.processedPreviewUrl),n.value.splice(e,1)}function he(){n.value.forEach(e=>{URL.revokeObjectURL(e.preview),e.processedBlob&&URL.revokeObjectURL(URL.createObjectURL(e.processedBlob)),e.processedPreviewUrl&&URL.revokeObjectURL(e.processedPreviewUrl)}),n.value=[],j.value&&(j.value.value="")}function ke(e){_.value=n.value[e],M.value=!0}function ee(e){const t=e.clipboardData?.items;if(!t)return;const s=[];for(const a of t)if(a.type.startsWith("image/")){const i=a.getAsFile();i&&s.push(i)}s.length>0&&(N(s),G(I("tools.imageWatermark.success.pasteSuccess")))}return ye(()=>{document.addEventListener("paste",ee),document.addEventListener("dragenter",e=>{e.preventDefault(),T.value=!0}),document.addEventListener("dragleave",e=>{e.relatedTarget||(T.value=!1)})}),_e(()=>{document.removeEventListener("paste",ee),n.value.forEach(e=>{URL.revokeObjectURL(e.preview),e.processedBlob&&URL.revokeObjectURL(URL.createObjectURL(e.processedBlob)),e.processedPreviewUrl&&URL.revokeObjectURL(e.processedPreviewUrl)}),w.value.preview&&URL.revokeObjectURL(w.value.preview)}),(e,t)=>(f(),We(ze,{title:e.$t("tools.imageWatermark.title"),description:e.$t("tools.imageWatermark.description"),icon:"ðŸ’§",features:[e.$t("tools.imageWatermark.features.watermark.title"),e.$t("tools.imageWatermark.features.batch.title"),e.$t("tools.imageWatermark.features.customization.title")]},{default:$e(()=>[o("div",Be,[o("div",{class:P(n.value.length>0?"lg:w-1/2":"w-full")},[o("div",je,[o("div",{onDrop:ne,onDragover:t[0]||(t[0]=E(()=>{},["prevent"])),onDragenter:t[1]||(t[1]=E(()=>{},["prevent"])),onClick:le,class:P(["border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors",T.value?"border-primary-500/50 bg-primary-500/10":"border-slate-600/50 hover:border-slate-500/50"])},[o("input",{ref_key:"fileInput",ref:j,type:"file",multiple:"",accept:"image/*",onChange:ie,class:"hidden"},null,544),o("div",Oe,[t[20]||(t[20]=o("div",{class:"text-6xl text-slate-400"},"ðŸ’§",-1)),o("div",null,[o("h3",Fe,r(e.$t("tools.imageWatermark.title")),1),o("p",De,r(e.$t("tools.imageWatermark.uploadDescription")),1),o("p",Ee,r(e.$t("tools.imageWatermark.supportedFormats"))+": JPG, PNG, WebP, GIF ",1)]),o("button",Ae,r(e.$t("tools.imageWatermark.selectFiles")),1)])],34)]),o("div",Te,[o("h3",Me,r(e.$t("tools.imageWatermark.settings")),1),o("div",Ve,[o("label",Ge,r(e.$t("tools.imageWatermark.watermarkType")),1),o("div",Ne,[o("button",{onClick:t[2]||(t[2]=s=>v.value="text"),class:P(["px-4 py-3 rounded-lg border transition-colors text-center",v.value==="text"?"border-primary-500/50 bg-primary-500/10 text-primary-400":"border-slate-700/50 hover:border-slate-600/50 bg-slate-800/50"])},[o("div",He,r(e.$t("tools.imageWatermark.textWatermark")),1),o("div",Je,r(e.$t("tools.imageWatermark.textWatermarkDesc")),1)],2),o("button",{onClick:t[3]||(t[3]=s=>v.value="image"),class:P(["px-4 py-3 rounded-lg border transition-colors text-center",v.value==="image"?"border-primary-500/50 bg-primary-500/10 text-primary-400":"border-slate-700/50 hover:border-slate-600/50 bg-slate-800/50"])},[o("div",Ze,r(e.$t("tools.imageWatermark.imageWatermark")),1),o("div",qe,r(e.$t("tools.imageWatermark.imageWatermarkDesc")),1)],2),o("button",{onClick:t[4]||(t[4]=s=>v.value="combined"),class:P(["px-4 py-3 rounded-lg border transition-colors text-center",v.value==="combined"?"border-primary-500/50 bg-primary-500/10 text-primary-400":"border-slate-700/50 hover:border-slate-600/50 bg-slate-800/50"])},[o("div",Ke,r(e.$t("tools.imageWatermark.combinedWatermark")),1),o("div",Qe,r(e.$t("tools.imageWatermark.combinedWatermarkDesc")),1)],2)])]),v.value==="text"||v.value==="combined"?(f(),k("div",Xe,[o("h4",Ye,r(e.$t("tools.imageWatermark.textSettings")),1),o("div",et,[o("div",null,[o("label",tt,r(e.$t("tools.imageWatermark.watermarkText")),1),L(o("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>U.value.text=s),type:"text",placeholder:e.$t("tools.imageWatermark.textPlaceholder"),class:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,8,ot),[[S,U.value.text]])]),o("div",null,[o("label",st,r(e.$t("tools.imageWatermark.fontSize"))+": "+r(U.value.fontSize)+"px ",1),L(o("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>U.value.fontSize=s),type:"range",min:"12",max:"100",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,U.value.fontSize]])]),o("div",null,[o("label",rt,r(e.$t("tools.imageWatermark.fontColor")),1),L(o("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>U.value.color=s),type:"color",class:"w-full h-10 border border-slate-700 rounded cursor-pointer bg-slate-800"},null,512),[[S,U.value.color]])]),o("div",null,[o("label",at,r(e.$t("tools.imageWatermark.fontFamily")),1),L(o("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>U.value.fontFamily=s),class:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[...t[21]||(t[21]=[o("option",{value:"Arial"},"Arial",-1),o("option",{value:"Verdana"},"Verdana",-1),o("option",{value:"Helvetica"},"Helvetica",-1),o("option",{value:"Times New Roman"},"Times New Roman",-1),o("option",{value:"Courier New"},"Courier New",-1)])],512),[[oe,U.value.fontFamily]])])])])):R("",!0),v.value==="image"||v.value==="combined"?(f(),k("div",lt,[o("h4",it,r(e.$t("tools.imageWatermark.imageSettings")),1),o("div",nt,[o("div",null,[o("label",dt,r(e.$t("tools.imageWatermark.watermarkImage")),1),o("div",{onDrop:me,onDragover:t[9]||(t[9]=E(()=>{},["prevent"])),onDragenter:t[10]||(t[10]=E(()=>{},["prevent"])),onClick:de,class:P(["border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors",Z.value?"border-primary-500/50 bg-primary-500/10":"border-slate-700/50 hover:border-slate-600/50"])},[o("input",{ref_key:"watermarkInput",ref:A,type:"file",accept:"image/*",onChange:ce,class:"hidden"},null,544),w.value.preview?(f(),k("div",ct,[o("img",{src:w.value.preview,alt:e.$t("tools.imageWatermark.watermarkPreview"),class:"max-h-24 max-w-full mb-2"},null,8,mt),o("button",{onClick:E(ue,["stop"]),class:"text-sm text-red-500 hover:text-red-400"},r(e.$t("tools.imageWatermark.removeWatermark")),1)])):(f(),k("div",ut,[t[22]||(t[22]=o("div",{class:"text-4xl text-slate-400 mb-2"},"ðŸ–¼ï¸",-1)),o("p",pt,r(e.$t("tools.imageWatermark.uploadWatermark")),1)]))],34)]),o("div",null,[o("div",gt,[o("label",vt,r(e.$t("tools.imageWatermark.imageWidth"))+": "+r(W.value.width)+"px ",1),L(o("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>W.value.width=s),type:"range",min:"20",max:W.value.maxWidth,class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,8,bt),[[S,W.value.width]])]),o("div",ft,[o("label",ht,r(e.$t("tools.imageWatermark.imageOpacity"))+": "+r(W.value.opacity)+"% ",1),L(o("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>W.value.opacity=s),type:"range",min:"0",max:"100",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,W.value.opacity]])])])])])):R("",!0),o("div",kt,[o("h4",wt,r(e.$t("tools.imageWatermark.positionSettings")),1),o("div",xt,[o("div",null,[o("label",yt,r(e.$t("tools.imageWatermark.position")),1),L(o("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>z.value.position=s),class:"w-full px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[o("option",_t,r(e.$t("tools.imageWatermark.topLeft")),1),o("option",Wt,r(e.$t("tools.imageWatermark.topCenter")),1),o("option",$t,r(e.$t("tools.imageWatermark.topRight")),1),o("option",Ut,r(e.$t("tools.imageWatermark.centerLeft")),1),o("option",Rt,r(e.$t("tools.imageWatermark.center")),1),o("option",Lt,r(e.$t("tools.imageWatermark.centerRight")),1),o("option",It,r(e.$t("tools.imageWatermark.bottomLeft")),1),o("option",Ct,r(e.$t("tools.imageWatermark.bottomCenter")),1),o("option",St,r(e.$t("tools.imageWatermark.bottomRight")),1)],512),[[oe,z.value.position]])]),o("div",null,[o("label",zt,r(e.$t("tools.imageWatermark.margin"))+": "+r(z.value.margin)+"px ",1),L(o("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>z.value.margin=s),type:"range",min:"0",max:"100",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,z.value.margin]])])])]),o("div",Pt,[o("h4",Bt,r(e.$t("tools.imageWatermark.advancedSettings")),1),o("div",jt,[o("div",null,[o("label",Ot,r(e.$t("tools.imageWatermark.opacity"))+": "+r(y.value.opacity)+"% ",1),L(o("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>y.value.opacity=s),type:"range",min:"0",max:"100",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,y.value.opacity]])]),o("div",null,[o("label",Ft,r(e.$t("tools.imageWatermark.rotation"))+": "+r(y.value.rotation)+"Â° ",1),L(o("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>y.value.rotation=s),type:"range",min:"0",max:"360",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,y.value.rotation]])]),o("div",null,[o("label",Dt,r(e.$t("tools.imageWatermark.scale"))+": "+r(y.value.scale)+"% ",1),L(o("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>y.value.scale=s),type:"range",min:"10",max:"200",class:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,512),[[S,y.value.scale]])])])])])],2),n.value.length>0?(f(),k("div",Et,[o("div",At,[o("div",Tt,[o("h3",Mt,r(e.$t("tools.imageWatermark.imageList"))+" ("+r(n.value.length)+") ",1),o("div",Vt,[o("button",{onClick:ge,disabled:D.value,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[D.value?(f(),k("span",Nt,[t[23]||(t[23]=o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),F(" "+r(e.$t("tools.imageWatermark.processing")),1)])):(f(),k("span",Ht,r(e.$t("tools.imageWatermark.processAll")),1))],8,Gt),o("button",{onClick:be,disabled:!ae.value,class:"px-4 py-2 bg-green-600/10 text-green-300 rounded-lg hover:bg-green-600/20 border border-green-600/30 hover:border-green-600/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},r(e.$t("tools.imageWatermark.downloadAll")),9,Jt),o("button",{onClick:he,class:"px-4 py-2 bg-red-600/10 text-red-300 rounded-lg hover:bg-red-600/20 border border-red-600/30 hover:border-red-600/50 transition-colors"},r(e.$t("common.clear")),1)])]),V.value.totalOriginalSize>0?(f(),k("div",Zt,[o("div",qt,[o("div",null,[o("div",Kt,r(O(V.value.totalOriginalSize)),1),o("div",Qt,r(e.$t("tools.imageWatermark.originalSize")),1)]),o("div",null,[o("div",Xt,r(O(V.value.totalProcessedSize)),1),o("div",Yt,r(e.$t("tools.imageWatermark.processedSize")),1)]),o("div",null,[o("div",eo,r(V.value.processedCount)+"/"+r(n.value.length),1),o("div",to,r(e.$t("tools.imageWatermark.processed")),1)])])])):R("",!0),o("div",oo,[o("div",so,[(f(!0),k(Ue,null,Re(n.value,(s,a)=>(f(),k("div",{key:a,class:"border border-slate-700/50 rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col gap-4 bg-slate-800/30"},[o("div",ro,[o("div",ao,[o("img",{src:s.preview,alt:s.name,class:"w-24 h-24 object-cover rounded-lg border border-slate-700/50"},null,8,lo)]),o("div",io,[o("div",no,[o("h4",co,r(s.name),1),o("p",mo,r(s.dimensions.width)+" Ã— "+r(s.dimensions.height)+" px ",1),s.isGif?(f(),k("div",uo," â„¹ï¸ "+r(e.$t("tools.imageWatermark.gifWarning")),1)):R("",!0),o("div",po,[o("div",go,r(e.$t("tools.imageWatermark.original"))+": "+r(O(s.originalSize)),1),s.processedSize?(f(),k("div",vo,r(e.$t("tools.imageWatermark.processed"))+": "+r(O(s.processedSize)),1)):R("",!0)])]),o("div",bo,[o("div",fo,[o("div",{class:P(["w-3 h-3 rounded-full",s.status==="pending"?"bg-slate-500":s.status==="processing"?"bg-yellow-500":s.status==="completed"?"bg-green-500":"bg-red-500"])},null,2),o("span",ho,r(e.$t(`tools.imageWatermark.status.${s.status}`)),1)]),s.status==="processing"?(f(),k("div",ko,[o("div",wo,[o("div",{class:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:Le({width:`${s.progress}%`})},null,4)]),o("div",xo,r(s.progress)+"% ",1)])):R("",!0)])])]),o("div",yo,[s.status==="completed"&&s.processedBlob?(f(),k("button",{key:0,onClick:i=>ke(a),class:"px-3 py-1 text-sm bg-purple-600/10 text-purple-300 rounded hover:bg-purple-600/20 border border-purple-600/30 hover:border-purple-600/50 transition-colors"},r(e.$t("common.preview")),9,_o)):R("",!0),s.status==="completed"&&s.processedBlob?(f(),k("button",{key:1,onClick:i=>ve(a),class:"px-3 py-1 text-sm bg-green-600/10 text-green-300 rounded hover:bg-green-600/20 border border-green-600/30 hover:border-green-600/50 transition-colors"},r(e.$t("common.download")),9,Wo)):R("",!0),o("button",{onClick:i=>K(a),disabled:D.value,class:"px-3 py-1 text-sm bg-primary-600/10 text-primary-300 rounded hover:bg-primary-600/20 border border-primary-600/30 hover:border-primary-600/50 transition-colors disabled:opacity-50"},r(e.$t("tools.imageWatermark.process")),9,$o),o("button",{onClick:i=>fe(a),class:"px-3 py-1 text-sm bg-red-600/10 text-red-300 rounded hover:bg-red-600/20 border border-red-600/30 hover:border-red-600/50 transition-colors"},r(e.$t("tools.imageWatermark.remove")),9,Uo)])]))),128))])])])])):R("",!0)]),M.value?(f(),k("div",Ro,[o("div",Lo,[o("div",Io,[o("h3",Co,r(e.$t("tools.imageWatermark.imagePreview")),1),o("button",{onClick:t[18]||(t[18]=s=>M.value=!1),class:"text-slate-400 bg-transparent hover:bg-slate-800/50 hover:text-slate-200 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center transition-colors"},[...t[24]||(t[24]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",So,[o("div",zo,[o("div",null,[o("h4",Po,r(e.$t("tools.imageWatermark.originalImage")),1),o("div",Bo,[o("img",{src:_.value?.preview,alt:_.value?.name,class:"w-full h-auto max-h-96 object-contain"},null,8,jo)]),o("div",Oo,[F(r(_.value?.name),1),t[25]||(t[25]=o("br",null,null,-1)),F(" "+r(e.$t("tools.imageWatermark.size"))+": "+r(O(_.value?.originalSize||0)),1),t[26]||(t[26]=o("br",null,null,-1)),F(" "+r(e.$t("tools.imageWatermark.dimensions"))+": "+r(_.value?.dimensions.width)+" Ã— "+r(_.value?.dimensions.height)+" px ",1)])]),_.value?.processedBlob?(f(),k("div",Fo,[o("h4",Do,r(e.$t("tools.imageWatermark.processedImage")),1),o("div",Eo,[o("img",{src:_.value?.processedPreviewUrl,alt:_.value?.name,class:"w-full h-auto max-h-96 object-contain"},null,8,Ao)]),o("div",To,[F(r(_.value?.name),1),t[27]||(t[27]=o("br",null,null,-1)),F(" "+r(e.$t("tools.imageWatermark.size"))+": "+r(O(_.value?.processedSize||0)),1)])])):R("",!0)])]),o("div",Mo,[o("button",{onClick:t[19]||(t[19]=s=>M.value=!1),class:"text-slate-300 bg-slate-800/50 hover:bg-slate-700/50 focus:ring-4 focus:ring-slate-800/50 font-medium rounded-lg text-sm px-5 py-2.5 transition-colors border border-slate-700/50"},r(e.$t("common.close")),1)])])])):R("",!0)]),_:1},8,["title","description","features"]))}}),Xo=Ce(Vo,[["__scopeId","data-v-578f6bba"]]);export{Xo as default};
