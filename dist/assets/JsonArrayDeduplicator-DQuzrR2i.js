import{d as B,u as I,r as f,P as M,Q as T,o as c,a as t,e as g,c as m,f as v,t as o,g as k,v as S,j as C}from"./index-DRvybjyt.js";import{_ as q}from"./ToolLayout.vue_vue_type_script_setup_true_lang-CUa7i8NK.js";import{u as L}from"./useToast-BzYuoFtO.js";const z={class:"grid lg:grid-cols-2 gap-6"},P={class:"glass rounded-xl border border-slate-700/30 p-6"},Q={class:"flex items-center justify-between mb-4"},G={class:"text-lg font-semibold text-slate-100"},H={class:"flex space-x-2"},K=["placeholder"],W={class:"mt-6 space-y-5"},X={class:"font-medium text-slate-200"},Y={class:"space-y-4"},Z={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},ee={class:"text-sm font-medium text-slate-300 min-w-[120px]"},te={value:"deep"},se={value:"shallow"},oe={value:"field"},le={value:"stringify"},re={key:0,class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},ae={class:"text-sm font-medium text-slate-300 min-w-[120px]"},ne=["placeholder"],ie={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},de={class:"text-sm font-medium text-slate-300 min-w-[120px]"},ue={value:"first"},ce={value:"last"},pe={class:"grid grid-cols-1 gap-3 pt-2"},me={class:"flex items-center"},ve={class:"text-sm text-slate-300"},fe={class:"flex items-center"},be={class:"text-sm text-slate-300"},ye={key:0,class:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg"},ge={class:"font-medium text-blue-300 mb-3"},he={class:"text-sm text-blue-400 space-y-1"},xe={key:0},_e=["disabled"],je={class:"glass rounded-xl border border-slate-700/30 p-6"},Ae={class:"flex items-center justify-between mb-4"},we={class:"text-lg font-semibold text-slate-100"},De={class:"flex space-x-2"},$e={key:0,class:"h-80 flex items-center justify-center text-slate-500 border-2 border-dashed border-slate-700/50 rounded-lg"},ke={class:"text-center"},Se={key:1,class:"h-80 flex items-center justify-center"},Ce={class:"text-center text-red-400"},Oe={class:"font-medium"},Je={class:"text-sm mt-1"},Re={key:2,class:"space-y-4"},Ue={class:"bg-green-500/10 border border-green-500/30 rounded-lg p-4"},Ee={class:"flex items-center"},Ne={class:"font-medium text-green-300"},Ve={class:"text-sm text-green-400"},Fe=["value"],qe=B({__name:"JsonArrayDeduplicator",setup(Be){const{t:h}=I(),{success:A,error:O,copySuccess:J}=L();function w(e){O(e)}const p=f(""),n=f(""),d=f(""),b=f(!1),D=f(""),r=f({method:"deep",compareField:"",keepOccurrence:"first",caseSensitive:!0,showDuplicates:!1}),u=f(null);function R(){const e=[{id:1,name:"John",age:30},{id:2,name:"Jane",age:25},{id:1,name:"John",age:30},{id:3,name:"Bob",age:35},{id:2,name:"Jane",age:25},{id:4,name:"Alice",age:28}];p.value=JSON.stringify(e,null,2),y()}function U(){p.value="",n.value="",d.value="",b.value=!1,u.value=null}function y(){if(d.value="",u.value=null,!p.value.trim()){b.value=!1;return}try{const e=JSON.parse(p.value);if(!Array.isArray(e))throw new Error(h("tools.jsonArrayDeduplicator.errors.invalidArray"));b.value=!0;const s=e.length,x=new Set(e.map(i=>JSON.stringify(i))).size,_=s-x;u.value={total:s,unique:x,duplicates:_,toRemove:_}}catch(e){const s=h("tools.jsonArrayDeduplicator.errors.invalidJson")+" "+e.message;d.value=s,w(s),b.value=!1}}function E(){if(b.value)try{const e=JSON.parse(p.value);let s=[],l=0;switch(r.value.method){case"deep":const x=new Set;s=e.filter(i=>{const a=JSON.stringify(i);return x.has(a)?(l++,!1):(x.add(a),!0)});break;case"shallow":s=e.filter((i,a)=>e.findIndex(j=>j===i)!==a?(l++,!1):!0);break;case"field":if(r.value.compareField){const i=new Set;s=e.filter(a=>{if(typeof a!="object"||a===null||Array.isArray(a))return!0;const j=a[r.value.compareField],$=r.value.caseSensitive?String(j):String(j).toLowerCase();return i.has($)?(l++,!1):(i.add($),!0)})}else s=[...e];break;case"stringify":const _=new Set;s=e.filter(i=>{const a=JSON.stringify(i);return _.has(a)?(l++,!1):(_.add(a),!0)});break}n.value=JSON.stringify(s,null,2),D.value=`Removed ${l} duplicate items`,d.value="",A(h("toast.success"))}catch(e){const s=h("tools.jsonArrayDeduplicator.errors.invalidJson")+" "+e.message;d.value=s,w(s)}}function N(){n.value&&(navigator.clipboard.writeText(n.value),J())}function V(){if(n.value){const e=new Blob([n.value],{type:"application/json"}),s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download="deduplicated-array.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),A(h("toast.downloadSuccess"))}}return(e,s)=>(c(),M(q,{title:e.$t("tools.jsonArrayDeduplicator.title"),description:e.$t("tools.jsonArrayDeduplicator.description"),icon:"üîç",features:[e.$t("tools.jsonArrayDeduplicator.features.smartDetection.title"),e.$t("tools.jsonArrayDeduplicator.features.flexibleOptions.title"),e.$t("tools.jsonArrayDeduplicator.features.detailedStats.title")]},{default:T(()=>[t("div",z,[t("div",P,[t("div",Q,[t("h3",G,o(e.$t("tools.jsonArrayDeduplicator.inputTitle")),1),t("div",H,[t("button",{onClick:R,class:"px-3 py-1 text-sm bg-slate-800/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors border border-slate-600/30 hover:border-slate-500/50"},o(e.$t("common.loadExample")),1),t("button",{onClick:U,class:"px-3 py-1 text-sm bg-slate-800/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors border border-slate-600/30 hover:border-slate-500/50"},o(e.$t("common.clear")),1)])]),g(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=l=>p.value=l),placeholder:e.$t("tools.jsonArrayDeduplicator.inputPlaceholder"),class:"w-full h-64 p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg font-mono text-sm text-slate-100 resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",onInput:y},null,40,K),[[k,p.value]]),t("div",W,[t("h4",X,o(e.$t("tools.jsonArrayDeduplicator.deduplicationOptions")),1),t("div",Y,[t("div",Z,[t("label",ee,o(e.$t("tools.jsonArrayDeduplicator.comparisonMethod"))+":",1),g(t("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>r.value.method=l),onChange:y,class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[t("option",te,o(e.$t("tools.jsonArrayDeduplicator.deepComparison")),1),t("option",se,o(e.$t("tools.jsonArrayDeduplicator.shallowComparison")),1),t("option",oe,o(e.$t("tools.jsonArrayDeduplicator.fieldComparison")),1),t("option",le,o(e.$t("tools.jsonArrayDeduplicator.stringComparison")),1)],544),[[S,r.value.method]])]),r.value.method==="field"?(c(),m("div",re,[t("label",ae,o(e.$t("tools.jsonArrayDeduplicator.compareField"))+":",1),g(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>r.value.compareField=l),onInput:y,type:"text",placeholder:e.$t("tools.jsonArrayDeduplicator.compareField"),class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,40,ne),[[k,r.value.compareField]])])):v("",!0),t("div",ie,[t("label",de,o(e.$t("tools.jsonArrayDeduplicator.keepOccurrence"))+":",1),g(t("select",{"onUpdate:modelValue":s[3]||(s[3]=l=>r.value.keepOccurrence=l),class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[t("option",ue,o(e.$t("tools.jsonArrayDeduplicator.firstOccurrence")),1),t("option",ce,o(e.$t("tools.jsonArrayDeduplicator.lastOccurrence")),1)],512),[[S,r.value.keepOccurrence]])]),t("div",pe,[t("label",me,[g(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>r.value.caseSensitive=l),onChange:y,type:"checkbox",class:"mr-3 h-4 w-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500"},null,544),[[C,r.value.caseSensitive]]),t("span",ve,o(e.$t("tools.jsonArrayDeduplicator.caseSensitive")),1)]),t("label",fe,[g(t("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>r.value.showDuplicates=l),onChange:y,type:"checkbox",class:"mr-3 h-4 w-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500"},null,544),[[C,r.value.showDuplicates]]),t("span",be,o(e.$t("tools.jsonArrayDeduplicator.showDuplicates")),1)])])])]),u.value?(c(),m("div",ye,[t("h5",ge,o(e.$t("tools.jsonArrayDeduplicator.analysisResults"))+": ",1),t("div",he,[t("p",null," ‚Ä¢ "+o(e.$t("tools.jsonArrayDeduplicator.totalElements"))+": "+o(u.value.total),1),t("p",null," ‚Ä¢ "+o(e.$t("tools.jsonArrayDeduplicator.uniqueElements"))+": "+o(u.value.unique),1),t("p",null," ‚Ä¢ "+o(e.$t("tools.jsonArrayDeduplicator.duplicatesFound"))+": "+o(u.value.duplicates),1),u.value.duplicates>0?(c(),m("p",xe," ‚Ä¢ "+o(e.$t("tools.jsonArrayDeduplicator.willRemove"))+": "+o(u.value.toRemove)+" "+o(e.$t("common.items")),1)):v("",!0)])])):v("",!0),t("button",{onClick:E,disabled:!p.value.trim()||!b.value,class:"w-full mt-6 px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-slate-700 disabled:cursor-not-allowed transition-colors font-medium"},o(e.$t("tools.jsonArrayDeduplicator.deduplicateButton")),9,_e)]),t("div",je,[t("div",Ae,[t("h3",we,o(e.$t("tools.jsonArrayDeduplicator.deduplicatedArray")),1),t("div",De,[n.value?(c(),m("button",{key:0,onClick:N,class:"px-3 py-1 text-sm bg-blue-500/10 text-blue-300 rounded-lg hover:bg-blue-500/20 transition-colors border border-blue-500/30 hover:border-blue-500/50"},o(e.$t("common.copy")),1)):v("",!0),n.value?(c(),m("button",{key:1,onClick:V,class:"px-3 py-1 text-sm bg-green-500/10 text-green-300 rounded-lg hover:bg-green-500/20 transition-colors border border-green-500/30 hover:border-green-500/50"},o(e.$t("common.download")),1)):v("",!0)])]),!n.value&&!d.value?(c(),m("div",$e,[t("div",ke,[s[6]||(s[6]=t("div",{class:"text-3xl mb-2"},"üîç",-1)),t("p",null,o(e.$t("tools.jsonArrayDeduplicator.noResults")),1)])])):v("",!0),d.value?(c(),m("div",Se,[t("div",Ce,[s[7]||(s[7]=t("div",{class:"text-3xl mb-2"},"‚ùå",-1)),t("p",Oe,o(e.$t("toast.error")),1),t("p",Je,o(d.value),1)])])):v("",!0),n.value&&!d.value?(c(),m("div",Re,[t("div",Ue,[t("div",Ee,[s[8]||(s[8]=t("div",{class:"text-green-400 text-2xl mr-3"},"‚úÖ",-1)),t("div",null,[t("p",Ne,o(e.$t("tools.jsonArrayDeduplicator.deduplicationComplete")),1),t("p",Ve,o(D.value),1)])])]),t("textarea",{value:n.value,readonly:"",class:"w-full h-80 p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg font-mono text-sm text-slate-100 resize-none"},null,8,Fe)])):v("",!0)])])]),_:1},8,["title","description","features"]))}});export{qe as default};
