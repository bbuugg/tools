import{d as M,u as q,r as y,P as B,Q as T,o as n,a as t,e as p,c as a,f as i,t as s,g as _,v as k,j as F,h as R}from"./index-CB9dnXdB.js";import{_ as L}from"./ToolLayout.vue_vue_type_script_setup_true_lang-GQLqlDLw.js";import{u as P}from"./useToast-PjD2IqXA.js";const z={class:"grid lg:grid-cols-2 gap-6"},D={class:"glass rounded-xl border border-slate-700/30 p-6"},H={class:"flex items-center justify-between mb-4"},Q={class:"text-lg font-semibold text-slate-100"},Y={class:"flex space-x-2"},G=["placeholder"],K={class:"mt-6 space-y-5"},W={class:"font-medium text-slate-200"},X={class:"space-y-4"},Z={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},ee={class:"text-sm font-medium text-slate-300 min-w-[80px]"},te={value:"index"},oe={value:"condition"},se={value:"random"},le={key:0,class:"space-y-4"},re={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ne={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},ae={class:"text-sm font-medium text-slate-300 min-w-[80px]"},ie={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},de={class:"text-sm font-medium text-slate-300 min-w-[80px]"},ue={key:1,class:"space-y-4"},ce={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},me={class:"text-sm font-medium text-slate-300 min-w-[80px]"},pe={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ve={value:"equals"},ge={value:"not-equals"},be={value:"greater"},fe={value:"less"},ye={value:"contains"},xe=["placeholder"],he={key:2,class:"space-y-4"},_e={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},Se={class:"text-sm font-medium text-slate-300 min-w-[80px]"},Ae={class:"flex items-center"},je={class:"text-sm text-slate-300"},$e={key:0,class:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg"},we={class:"font-medium text-blue-300 mb-3"},ke={class:"text-sm text-blue-400 space-y-1"},Ce={key:0},Ie={key:0},Ve={key:1},Ee={key:2},Oe=["disabled"],Ue={class:"glass rounded-xl border border-slate-700/30 p-6"},Ne={class:"flex items-center justify-between mb-4"},Je={class:"text-lg font-semibold text-slate-100"},Me={class:"flex space-x-2"},qe={key:0,class:"h-80 flex items-center justify-center text-slate-500 border-2 border-dashed border-slate-700/50 rounded-lg"},Be={class:"text-center"},Te={key:1,class:"h-80 flex items-center justify-center"},Fe={class:"text-center text-red-400"},Re={class:"font-medium"},Le={class:"text-sm mt-1"},Pe={key:2,class:"space-y-4"},ze={class:"bg-green-500/10 border border-green-500/30 rounded-lg p-4"},De={class:"flex items-center"},He={class:"font-medium text-green-300"},Qe={class:"text-sm text-green-400"},Ye=["value"],Ze=M({__name:"JsonArraySlicer",setup(Ge){const{t:S}=q(),{success:A,error:C,copySuccess:I}=P();function j(e){C(e)}const v=y(""),u=y(""),m=y(""),x=y(!1),$=y(""),r=y({method:"index",startIndex:0,endIndex:null,conditionField:"",operator:"equals",conditionValue:"",sampleCount:5,preserveOrder:!0}),d=y(null);function V(){const e=[{id:1,name:"John",age:30,city:"New York"},{id:2,name:"Jane",age:25,city:"Los Angeles"},{id:3,name:"Bob",age:35,city:"Chicago"},{id:4,name:"Alice",age:28,city:"Houston"},{id:5,name:"Charlie",age:32,city:"Phoenix"},{id:6,name:"Diana",age:27,city:"Philadelphia"},{id:7,name:"Eve",age:29,city:"San Antonio"}];v.value=JSON.stringify(e,null,2),c()}function E(){v.value="",u.value="",m.value="",x.value=!1,d.value=null}function c(){if(m.value="",d.value=null,!v.value.trim()){x.value=!1;return}try{const e=JSON.parse(v.value);if(!Array.isArray(e))throw new Error(S("tools.jsonArraySlicer.errors.invalidArray"));x.value=!0;const o={total:e.length};if(r.value.method==="index"){const l=r.value.startIndex,g=r.value.endIndex!==null?r.value.endIndex:e.length,h=g>e.length?e.length:g;o.willExtract=Math.max(0,h-l),o.range=`${l}-${h}`}else if(r.value.method==="condition"){const l=e.filter(g=>w(g)).length;o.matching=l}d.value=o}catch(e){const o=S("tools.jsonArraySlicer.errors.invalidJson")+" "+e.message;m.value=o,j(o),x.value=!1}}function w(e){if(typeof e!="object"||e===null||Array.isArray(e))return!1;const o=e,{conditionField:l,operator:g,conditionValue:h}=r.value;if(!l||!(l in o))return!1;const b=o[l],f=h;switch(g){case"equals":return String(b)===f;case"not-equals":return String(b)!==f;case"greater":return Number(b)>Number(f);case"less":return Number(b)<Number(f);case"contains":return String(b).includes(f);default:return!1}}function O(){if(x.value)try{const e=JSON.parse(v.value);let o=[],l=0;switch(r.value.method){case"index":const g=r.value.startIndex,h=r.value.endIndex!==null?r.value.endIndex:e.length;o=e.slice(g,h),l=o.length;break;case"condition":o=e.filter(f=>w(f)),l=o.length;break;case"random":const b=[...e].sort(()=>.5-Math.random());o=r.value.preserveOrder?e.filter((f,J)=>b.slice(0,r.value.sampleCount).includes(e[J])):b.slice(0,r.value.sampleCount),l=o.length;break}u.value=JSON.stringify(o,null,2),$.value=`${l} items extracted`,m.value="",A(S("toast.success"))}catch(e){const o=S("tools.jsonArraySlicer.errors.invalidJson")+" "+e.message;m.value=o,j(o)}}function U(){u.value&&(navigator.clipboard.writeText(u.value),I())}function N(){if(u.value){const e=new Blob([u.value],{type:"application/json"}),o=URL.createObjectURL(e),l=document.createElement("a");l.href=o,l.download="sliced-array.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),A(S("toast.downloadSuccess"))}}return(e,o)=>(n(),B(L,{title:e.$t("tools.jsonArraySlicer.title"),description:e.$t("tools.jsonArraySlicer.description"),icon:"‚úÇÔ∏è",features:[e.$t("tools.jsonArraySlicer.features.indexSlicing.title"),e.$t("tools.jsonArraySlicer.features.conditionalSlicing.title"),e.$t("tools.jsonArraySlicer.features.smartPreview.title")]},{default:T(()=>[t("div",z,[t("div",D,[t("div",H,[t("h3",Q,s(e.$t("tools.jsonArraySlicer.inputTitle")),1),t("div",Y,[t("button",{onClick:V,class:"px-3 py-1 text-sm bg-slate-800/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors border border-slate-600/30 hover:border-slate-500/50"},s(e.$t("common.loadExample")),1),t("button",{onClick:E,class:"px-3 py-1 text-sm bg-slate-800/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors border border-slate-600/30 hover:border-slate-500/50"},s(e.$t("common.clear")),1)])]),p(t("textarea",{"onUpdate:modelValue":o[0]||(o[0]=l=>v.value=l),placeholder:e.$t("tools.jsonArraySlicer.inputPlaceholder"),class:"w-full h-64 p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg font-mono text-sm text-slate-100 resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",onInput:c},null,40,G),[[_,v.value]]),t("div",K,[t("h4",W,s(e.$t("tools.jsonArraySlicer.slicingOptions")),1),t("div",X,[t("div",Z,[t("label",ee,s(e.$t("tools.jsonArraySlicer.method"))+":",1),p(t("select",{"onUpdate:modelValue":o[1]||(o[1]=l=>r.value.method=l),onChange:c,class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[t("option",te,s(e.$t("tools.jsonArraySlicer.indexRange")),1),t("option",oe,s(e.$t("tools.jsonArraySlicer.conditionalFilter")),1),t("option",se,s(e.$t("tools.jsonArraySlicer.randomSample")),1)],544),[[k,r.value.method]])]),r.value.method==="index"?(n(),a("div",le,[t("div",re,[t("div",ne,[t("label",ae,s(e.$t("tools.jsonArraySlicer.startIndex"))+":",1),p(t("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>r.value.startIndex=l),onInput:c,type:"number",min:"0",class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,544),[[_,r.value.startIndex,void 0,{number:!0}]])]),t("div",ie,[t("label",de,s(e.$t("tools.jsonArraySlicer.endIndex"))+":",1),p(t("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>r.value.endIndex=l),onInput:c,type:"number",class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,544),[[_,r.value.endIndex,void 0,{number:!0}]])])])])):i("",!0),r.value.method==="condition"?(n(),a("div",ue,[t("div",ce,[t("label",me,s(e.$t("tools.jsonArraySlicer.conditionField"))+":",1),p(t("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>r.value.conditionField=l),onInput:c,type:"text",class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,544),[[_,r.value.conditionField]])]),t("div",pe,[p(t("select",{"onUpdate:modelValue":o[5]||(o[5]=l=>r.value.operator=l),onChange:c,class:"px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},[t("option",ve,s(e.$t("tools.jsonArraySlicer.operators.equals")),1),t("option",ge,s(e.$t("tools.jsonArraySlicer.operators.notEquals")),1),t("option",be,s(e.$t("tools.jsonArraySlicer.operators.greater")),1),t("option",fe,s(e.$t("tools.jsonArraySlicer.operators.less")),1),t("option",ye,s(e.$t("tools.jsonArraySlicer.operators.contains")),1)],544),[[k,r.value.operator]]),p(t("input",{"onUpdate:modelValue":o[6]||(o[6]=l=>r.value.conditionValue=l),onInput:c,type:"text",placeholder:e.$t("tools.jsonArraySlicer.conditionValue"),class:"col-span-2 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,40,xe),[[_,r.value.conditionValue]])])])):i("",!0),r.value.method==="random"?(n(),a("div",he,[t("div",_e,[t("label",Se,s(e.$t("tools.jsonArraySlicer.sampleCount"))+":",1),p(t("input",{"onUpdate:modelValue":o[7]||(o[7]=l=>r.value.sampleCount=l),onInput:c,type:"number",min:"1",class:"flex-1 px-3 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"},null,544),[[_,r.value.sampleCount,void 0,{number:!0}]])]),t("label",Ae,[p(t("input",{"onUpdate:modelValue":o[8]||(o[8]=l=>r.value.preserveOrder=l),onChange:c,type:"checkbox",class:"mr-3 h-4 w-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500"},null,544),[[F,r.value.preserveOrder]]),t("span",je,s(e.$t("tools.jsonArraySlicer.preserveOrder")),1)])])):i("",!0)])]),d.value?(n(),a("div",$e,[t("h5",we,s(e.$t("tools.jsonArraySlicer.arrayInfo"))+": ",1),t("div",ke,[t("p",null,"‚Ä¢ "+s(e.$t("tools.jsonArraySlicer.totalElements"))+": "+s(d.value.total),1),r.value.method==="index"&&d.value.willExtract!==void 0?(n(),a("p",Ce,[R(" ‚Ä¢ "+s(e.$t("tools.jsonArraySlicer.willExtract"))+": "+s(d.value.willExtract)+" "+s(e.$t("common.items"))+" ",1),d.value.range?(n(),a("span",Ie,"("+s(d.value.range)+")",1)):i("",!0)])):i("",!0),r.value.method==="condition"&&d.value.matching!==void 0?(n(),a("p",Ve," ‚Ä¢ "+s(e.$t("tools.jsonArraySlicer.matchingElements"))+": "+s(d.value.matching),1)):i("",!0),r.value.method==="random"?(n(),a("p",Ee," ‚Ä¢ "+s(e.$t("tools.jsonArraySlicer.willSample"))+": "+s(Math.min(r.value.sampleCount||0,d.value.total))+" "+s(e.$t("common.items")),1)):i("",!0)])])):i("",!0),t("button",{onClick:O,disabled:!v.value.trim()||!x.value,class:"w-full mt-6 px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-slate-700 disabled:cursor-not-allowed transition-colors font-medium"},s(e.$t("tools.jsonArraySlicer.sliceButton")),9,Oe)]),t("div",Ue,[t("div",Ne,[t("h3",Je,s(e.$t("tools.jsonArraySlicer.slicedArray")),1),t("div",Me,[u.value?(n(),a("button",{key:0,onClick:U,class:"px-3 py-1 text-sm bg-blue-500/10 text-blue-300 rounded-lg hover:bg-blue-500/20 transition-colors border border-blue-500/30 hover:border-blue-500/50"},s(e.$t("common.copy")),1)):i("",!0),u.value?(n(),a("button",{key:1,onClick:N,class:"px-3 py-1 text-sm bg-green-500/10 text-green-300 rounded-lg hover:bg-green-500/20 transition-colors border border-green-500/30 hover:border-green-500/50"},s(e.$t("common.download")),1)):i("",!0)])]),!u.value&&!m.value?(n(),a("div",qe,[t("div",Be,[o[9]||(o[9]=t("div",{class:"text-3xl mb-2"},"üìä",-1)),t("p",null,s(e.$t("tools.jsonArraySlicer.noResults")),1)])])):i("",!0),m.value?(n(),a("div",Te,[t("div",Fe,[o[10]||(o[10]=t("div",{class:"text-3xl mb-2"},"‚ùå",-1)),t("p",Re,s(e.$t("toast.error")),1),t("p",Le,s(m.value),1)])])):i("",!0),u.value&&!m.value?(n(),a("div",Pe,[t("div",ze,[t("div",De,[o[11]||(o[11]=t("div",{class:"text-green-400 text-2xl mr-3"},"‚úÖ",-1)),t("div",null,[t("p",He,s(e.$t("common.success")),1),t("p",Qe,s($.value),1)])])]),t("textarea",{value:u.value,readonly:"",class:"w-full h-80 p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg font-mono text-sm text-slate-100 resize-none"},null,8,Ye)])):i("",!0)])])]),_:1},8,["title","description","features"]))}});export{Ze as default};
